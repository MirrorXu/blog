(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{291:function(t,s,n){"use strict";n.r(s);var a=n(4),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"使用-npm-打造前端工作流"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用-npm-打造前端工作流"}},[t._v("#")]),t._v(" 使用 NPM 打造前端工作流")]),t._v(" "),n("h2",{attrs:{id:"npm-创建-package-json-文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-创建-package-json-文件"}},[t._v("#")]),t._v(" npm 创建 package.json 文件")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("npm init")]),t._v(" 使用问答的模式创建")]),t._v(" "),n("li",[n("code",[t._v("npm init -f")]),t._v(" 跳过文档模式直接创建")])]),t._v(" "),n("h2",{attrs:{id:"npmrc-文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npmrc-文件"}},[t._v("#")]),t._v(" "),n("code",[t._v(".npmrc")]),t._v(" 文件")]),t._v(" "),n("ul",[n("li",[n("p",[n("code",[t._v("~/.npmrc")]),t._v(" 是用户配置文件，记录了一些重要信息,例如 文件中的 "),n("code",[t._v("registry=https://registry.npm.taobao.org/")]),t._v(" 是将 npm 的镜像源设置为淘宝镜像源")])]),t._v(" "),n("li",[n("p",[n("code",[t._v("npm config set xxx=xxx")]),t._v(" 命令可以修改一些配置信息，本质是修改了"),n("code",[t._v(".npmrc")]),t._v("文件")])])]),t._v(" "),n("h2",{attrs:{id:"npm-run-xxx-与-npm-run-script-xxx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-run-xxx-与-npm-run-script-xxx"}},[t._v("#")]),t._v(" "),n("code",[t._v("npm run xxx")]),t._v(" 与 "),n("code",[t._v("npm run script xxx")])]),t._v(" "),n("p",[n("code",[t._v("npm run xxx")]),t._v(" 命令是 "),n("code",[t._v("npm run script xxx")]),t._v("的缩写，此命令是会在项目的 "),n("code",[t._v("package.json")]),t._v(" 文件中寻找 "),n("code",[t._v("script")]),t._v("字段对应的脚本命令。")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json 示例文件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxxx"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"main"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"test"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"echo \\"Error: no test specified\\" && exit 1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxxx"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clean"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rm -rm ./temp"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Mirror <xuxulee@163.com>"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"license"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ISC"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"创建-npm-script-命令-配置-eslint-代码风格检测工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建-npm-script-命令-配置-eslint-代码风格检测工具"}},[t._v("#")]),t._v(" 创建 npm script 命令(配置 eslint 代码风格检测工具)")]),t._v(" "),n("ul",[n("li",[t._v("本地安装 eslint 4.13.1 "),n("code",[t._v("npm i elint@4.13.1 -D")])]),t._v(" "),n("li",[t._v("使用 eslint 可执行文件创建一个 eslint 配置文件 "),n("code",[t._v("./node_modules/.bin/eslint --init")]),t._v(" ， 创建完成会在项目根目录下形成"),n("code",[t._v(".eslintrc.js")]),t._v("文件")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 使用 eslint 可执行性文件创建 elint配置文件过程中的问题 */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ? How would you like to configure ESLint? Answer questions about your")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// style")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ? Are you using ECMAScript 6 features? Yes")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ? Are you using ES6 modules? Yes")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ? Where will your code run? Browser, Node")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ? Do you use CommonJS? Yes")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ? Do you use JSX? No")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ? What style of indentation do you use? Spaces")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ? What quotes do you use for strings? Single")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ? What line endings do you use? Unix")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ? Do you require semicolons? Yes")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ? What format do you want your config file to be in? JavaScript")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 配置成功后形成的.eslintrc.js 文件内容 */")]),t._v("\n\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    commonjs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    es6"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint:recommended"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  parserOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    sourceType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  rules"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    indent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"linebreak-style"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unix"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    quotes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"single"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    semi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"always"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("ul",[n("li",[t._v("在项目根目录下创建一个"),n("code",[t._v("index.js")]),t._v("文件，并使用 eslint 进行代码风格检查"),n("code",[t._v("./node_modules/.bin/eslint index.js")])]),t._v(" "),n("li",[t._v("修改"),n("code",[t._v("package.josn")]),t._v("将 elint 检查的命令添加至 npm script")])]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"script"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...其他npm script")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslint"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint index.js"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);